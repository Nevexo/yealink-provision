# yealink-provision Provisioning Agent for Yealink

This provisioning agent generates the configuration files needed for Yealink phones.

This expects HTTP requests from Yealink phonles with basic HTTP authentication, where the username is the ID of the phone in yealink-provision and the password
is the one randomly generated by yealink-provision.

## Disclaimer

This is a very early, and buggy, implementation. It's for testing purposes only.

## How Yealink Phones Register

When redirected by Yealink RPS, the phone makes a HTTP GET request to the provisioning server, such as yealink-provision.

It requests 4 files, those are two .boot configuration files and two .cfg configuration files, yealink-provision currently doesn't reply to .boot requests.
Two cfg files are requested, one is model specific. As Yealink-provision deals with model-based configuration at the device-level, this is also not used.

Finally, the device requests *mac*.cfg from the server, which has all the configuration for the device. Upon recieving this request, the yealink-provision Yealink Agent
contacts the API server and fetches the configuration for the device, which is returned as a JSON schema.

This agent simply converst the JSON schema into the cfg file the Yealink phone is expected, and returns a response. The phone will then load the config into RAM.

